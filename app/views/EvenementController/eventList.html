#{extends 'main.html' /}
#{set title:'Calendar - Liste des évenements' /}

<div class="container clearfix">
    <h1>Liste des évenements :</h1>
    <form action="@{EvenementController.eventListDate}" method="post" class="form-inline">
        <div class="form-group">
            <label>Filtrer du </label>
            <input class="form-control" type="date" name="dateDebut" value="${dateDebut.format("YYYY-MM-dd")}">
            <span class="error">#{error 'dateDebutString' /}</span>
        </div>
        <div class="form-group">
            <label>au</label>
            <input class="form-control" type="date" name="dateFin" value="${dateFin.format("YYYY-MM-dd")}">
            <span class="error">#{error 'dateFinString' /}</span>
        </div>
            <input class="btn btn-primary" type="submit" value="Rafraîchir">
    </form>
</div>
<div class="container">
#{if evenementList == null || evenementList.size() == 0}
    <h3 class="alert alert-warning" role="alert"><i>pas d'évenement sur la période indiquée</i></h3>
#{/if}
#{else }
    #{list evenementList, as:'event'}
        <div class="container">
            <ul class="list-group">
                <li class="list-group-item" >
                ${event?.dateDebut?.format("dd/MM/YY - HH:mm")} - ${event?.dateFin?.format("dd/MM/YY HH:mm")} :
                    <a href="@{EvenementController.event(event.idEvenement)}"><strong>${event.nom}</strong> (${event.lieu})</a>
                </li>
            *{<li class="list-group-item">${event.description}</li>}*
            </ul>
        </div>
    #{/list}
#{/else}
    <a href="@{Application.index()}" class="btn btn-default">Retour</a>
</div>