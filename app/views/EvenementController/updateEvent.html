#{extends 'main.html' /}
#{set title:'Calendar - modifier un évenement' /}

<div class="container">
    <h1>Modifier l'évenement :</h1>
    <div class="container clearfix">
    #{ifErrors}
        <div class="alert alert-danger" role="alert">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
            <span class="sr-only">Error:</span>
            Erreur lors de la modification de l'évenement !<br>
            Verifiez que tous les champs soient correctement remplis
        </div>
    #{/ifErrors}
        <form action="@{EvenementController.saveModificatedEvent()}" method="post">
            <h2>paramètres :</h2>

            <div class="form-inline">
                <div class="input-group">
                    <label>
                        <input type="radio"
                               name="optionsRadios"
                               id="optionsRadios5"
                               value="${models.types.Categorie.GREEN}"
                        #{if event.categorie.toString().contains(models.types.Categorie.GREEN as String)}
                               checked="checked"
                        #{/if}>
                    ${models.types.Categorie.GREEN.getLabelFR()}
                    </label>
                </div>
                <div class="input-group">
                    <label>
                        <input type="radio"
                               name="optionsRadios"
                               id="optionsRadios1"
                               value="${models.types.Categorie.RED}"
                        #{if event.categorie.toString().contains(models.types.Categorie.RED as String)}
                               checked="checked"
                        #{/if}>
                    ${models.types.Categorie.RED.getLabelFR()}
                    </label>
                </div>
                <div class="input-group">
                    <label>
                        <input type="radio"
                               name="optionsRadios"
                               id="optionsRadios2"
                               value="${models.types.Categorie.BLACK}"
                        #{if event.categorie.toString().contains(models.types.Categorie.BLACK as String)}
                               checked="checked"
                        #{/if}>
                    ${models.types.Categorie.BLACK.getLabelFR()}
                    </label>
                </div>
                <div class="input-group">
                    <label>
                        <input type="radio"
                               name="optionsRadios"
                               id="optionsRadios3"
                               value="${models.types.Categorie.BLUE}"
                        #{if event.categorie.toString().contains(models.types.Categorie.BLUE as String)}
                               checked="checked"
                        #{/if}>
                    ${models.types.Categorie.BLUE.getLabelFR()}
                    </label>
                </div>
                <div class="input-group">
                    <label>
                        <input type="radio"
                               name="optionsRadios"
                               id="optionsRadios4"
                               value="${models.types.Categorie.CYAN}"
                        #{if event.categorie.toString().contains(models.types.Categorie.CYAN as String)}
                               checked="checked"
                        #{/if}>
                    ${models.types.Categorie.CYAN.getLabelFR()}
                    </label>
                </div>
                <div class="input-group">
                    <label>
                        <input type="radio"
                               name="optionsRadios"
                               id="optionsRadios6"
                               value="${models.types.Categorie.MAGENTA}"
                        #{if event.categorie.toString().contains(models.types.Categorie.MAGENTA as String)}
                               checked="checked"
                        #{/if}>
                    ${models.types.Categorie.MAGENTA.getLabelFR()}
                    </label>
                </div>
            </div>
            <div class="input-group">
                <span class="input-group-addon" id="basic-addon1">Nom</span>
                <input class="form-control" type="text" name="nom" value="${event?.nom}">
                <span class="error">#{error 'nom' /}</span>
            </div>
            <div class="input-group">
                <span class="input-group-addon" id="basic-addon2">Description</span>
                <input class="form-control" type="text" name="description" value="${event?.description}">
                <span class="error">#{error 'description' /}</span>
            </div>
            <div class="input-group">
                <span class="input-group-addon" id="basic-addon3">Lieu</span>
                <input class="form-control" type="text" name="lieu" value="${event?.lieu}">
                <span class="error">#{error 'lieu' /}</span>
            </div>
            <div class="input-group">
                <span class="input-group-addon" id="basic-addon4">Date de début</span>
                <input class="form-control" type="date" name="dateDebutString"
                       value="${event.dateDebut?.format("yyyy-MM-dd")}">
                <span class="error">#{error 'dateDebutString' /}</span>

                <span class="input-group-addon" id="basic-addon5">Heure de début</span>
                <input class="form-control" type="time" name="heureDebut" value="${event.dateDebut?.format("HH:mm")}">
                <span class="error">#{error 'heureDebut' /}</span>
            </div>
            <div class="input-group">
                <span class="input-group-addon" id="basic-addon6">Date de fin</span>
                <input class="form-control" type="date" name="dateFinString"
                       value="${event.dateFin?.format("yyyy-MM-dd")}">
                <span class="error">#{error 'dateFinString' /}</span>

                <span class="input-group-addon" id="basic-addon7">Heure de fin</span>
                <input class="form-control" type="time" name="heureFin" value="${event.dateFin?.format("HH:mm")}">
                <span class="error">#{error 'heureFin' /}</span>
            </div>

            <div>
                <input type="hidden" name="idEvenement" value="${event.idEvenement}">
            </div>

            <div class="pull-left input-group">
                <input class="btn btn-primary" type="submit" value="Energistrer les modifications">
            </div>
            <div class="pull-right">
                <a class="btn btn-warning" href="javascript:history.back()">Annuler</a>
            </div>
        </form>
    </div>
    <br>
    <br>
    <a href="@{EvenementController.findEvents()}" class="btn btn-default">Retour</a>
</div>